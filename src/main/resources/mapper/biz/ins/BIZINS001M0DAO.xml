<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTO Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.rds.adams.web.biz.ins.dao.BIZINS001M0DAO">
    <select id="selectList" parameterType="com.rds.adams.web.biz.ins.dto.BIZINS001M0P0DTO" resultType="com.rds.adams.web.biz.ins.dto.BIZINS001M0R0DTO">
		SELECT
		       ROW_NUMBER() OVER(ORDER BY (SELECT 1)) AS ROW_NUMBER
		     , STD_YYMM
		     , INSC_DV_CD
		     , VALU_METD_CD
		     , PTF_CD
		     , BAS_AMT
		     , OCI_AMT
		     , NEW_CONT_AMT
		     , INT_EFFT_AMT
		     , ESTM_PRM
		     , ESTM_FEE
		     , ESTM_NEW_CONT_CCLS_AMT
		     , ESTM_FEE_RFND_AMT
		     , ESTM_CONT_MTN_AMT
		     , ESTM_IVSG_EXP_AMT
			 , ATS_ASSM_UPD_AMT
			 , EXRT_EFFT_AMT
			 , ENTM_AMT
		     , FRST_REG_EMP_NO  AS REG_USR_ID
		     , FRST_REG_DTM     AS REG_DT
		  FROM TB_INSU_PL_TTL_LST
         WHERE 1=1
         <if test='searchTxt != ""'>
           AND (
                	STD_YYMM LIKE '%' + #{searchTxt} + '%'
                )
         </if>
    </select>
    <delete id="deleteList_bf" parameterType="com.rds.adams.web.wrk.bat.dto.WRKBAT001M0P1DTO">
		DELETE FROM TB_BAT_MNG_LST
		WHERE STD_YYMM  = #{stdYymm}
	</delete>
</mapper>