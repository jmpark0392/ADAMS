<!DOCTYPE html>
<html
  lang="ko"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout/layout}"
>
  <th:block layout:fragment="content">
    <script src="js/js-tabler/demo-theme.min.js?1692870487"></script>

    <div class="page-wrapper" id="page-wrapper">
      <!-- Main Container -->
      <div class="container" id="container">
        <h2 class="mt-4">Usage Status</h2>
        <div class="ptag-container mb-4">
          <span><a href="#"> Company Admin ></a></span>
          <span><a href="#"> Usage Status</a></span>
        </div>

        <!-- Form Container -->
        <div class="form-container">
          <div class="form-box">
            <form
              id="filter-form"
              name="form"
              method="post"
              action="/WRKFIL001M0SelectList"
              onsubmit="return false;"
            >
              <div class="row align-items-center">
                <!-- Input and Search Button on the far left -->
                <div class="col-md-4 mb-3 mb-md-0">
                  <label for="datepicker-icon-prepend" class="form-label"
                    >Year / Month</label
                  >
                  <div class="input-group" style="padding-bottom: 10px">
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Select a date"
                      id="datepicker-icon-prepend"
                      value="2020-06-20"
                      aria-label="Until"
                      aria-describedby="basic-addon1"
                    />
                    <button
                      type="button"
                      class="btn btn-primary"
                      onclick="searchFunction();"
                    >
                      <!-- Search Icon -->
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="icon"
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" />
                        <path d="M21 21l-6 -6" />
                      </svg>
                      Search
                    </button>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <!-- Page content -->
      <!-- <input
                      id="inpSearchTxt"
                      name="inpSearchTxt"
                      type="text"
                      class="form-input-temp"
                      placeholder="Input Name"
                    />
                    <button
                      type="button"
                      class="btn btn-primary"
                      style="padding: 4px 10px; color: white; font-size: 13px"
                      onclick="main()"
                    >
                      Search
                    </button> -->
      <!-- Page content -->
      <!-- Page content -->
      <div class="page-body">
        <div class="container-xl">
          <div class="row row-cards">
            <div class="col-sm-6 col-lg-3">
              <div class="card card-md">
                <div class="card-body text-center">
                  <div class="text-uppercase text-secondary font-weight-medium">
                    Free
                  </div>
                  <!-- <div class="display-5 fw-bold my-3">$0</div> -->
                  <ul class="list-unstyled lh-lg">
                    <li><strong>3</strong> Users</li>
                    <li>
                      <!-- Download SVG icon from http://tabler-icons.io/i/check -->
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="icon me-1 text-success"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M5 12l5 5l10 -10" />
                      </svg>
                      Sharing Tools
                    </li>
                    <li>
                      <!-- Download SVG icon from http://tabler-icons.io/i/x -->
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="icon me-1 text-danger"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M18 6l-12 12" />
                        <path d="M6 6l12 12" />
                      </svg>
                      Design Tools
                    </li>
                    <li>
                      <!-- Download SVG icon from http://tabler-icons.io/i/x -->
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="icon me-1 text-danger"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M18 6l-12 12" />
                        <path d="M6 6l12 12" />
                      </svg>
                      Private Messages
                    </li>
                    <li>
                      <!-- Download SVG icon from http://tabler-icons.io/i/x -->
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="icon me-1 text-danger"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M18 6l-12 12" />
                        <path d="M6 6l12 12" />
                      </svg>
                      Twitter API
                    </li>
                  </ul>
                  <div class="text-center mt-4">
                    <a href="#" class="btn w-100">Choose plan</a>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-6 col-lg-3">
              <div class="card card-md">
                <div class="card-body text-center">
                  <div class="text-uppercase text-secondary font-weight-medium">
                    Premium
                  </div>
                  <ul class="list-unstyled lh-lg">
                    <li><strong>10</strong> Users</li>
                    <li>
                      <!-- Download SVG icon from http://tabler-icons.io/i/check -->
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="icon me-1 text-success"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M5 12l5 5l10 -10" />
                      </svg>
                      Sharing Tools
                    </li>
                    <li>
                      <!-- Download SVG icon from http://tabler-icons.io/i/check -->
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="icon me-1 text-success"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M5 12l5 5l10 -10" />
                      </svg>
                      Design Tools
                    </li>
                    <li>
                      <!-- Download SVG icon from http://tabler-icons.io/i/x -->
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="icon me-1 text-danger"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M18 6l-12 12" />
                        <path d="M6 6l12 12" />
                      </svg>
                      Private Messages
                    </li>
                    <li>
                      <!-- Download SVG icon from http://tabler-icons.io/i/x -->
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="icon me-1 text-danger"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M18 6l-12 12" />
                        <path d="M6 6l12 12" />
                      </svg>
                      Twitter API
                    </li>
                  </ul>
                  <div class="text-center mt-4">
                    <a href="#" class="btn btn-green w-100">Choose plan</a>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-6 col-lg-3">
              <div class="card card-md">
                <div class="card-body text-center">
                  <div class="text-uppercase text-secondary font-weight-medium">
                    Enterprise
                  </div>
                  <!-- <div class="display-5 fw-bold my-3">$99</div> -->
                  <ul class="list-unstyled lh-lg">
                    <li><strong>100</strong> Users</li>
                    <li>
                      <!-- Download SVG icon from http://tabler-icons.io/i/check -->
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="icon me-1 text-success"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M5 12l5 5l10 -10" />
                      </svg>
                      Sharing Tools
                    </li>
                    <li>
                      <!-- Download SVG icon from http://tabler-icons.io/i/check -->
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="icon me-1 text-success"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M5 12l5 5l10 -10" />
                      </svg>
                      Design Tools
                    </li>
                    <li>
                      <!-- Download SVG icon from http://tabler-icons.io/i/check -->
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="icon me-1 text-success"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M5 12l5 5l10 -10" />
                      </svg>
                      Private Messages
                    </li>
                    <li>
                      <!-- Download SVG icon from http://tabler-icons.io/i/x -->
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="icon me-1 text-danger"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M18 6l-12 12" />
                        <path d="M6 6l12 12" />
                      </svg>
                      Twitter API
                    </li>
                  </ul>
                  <div class="text-center mt-4">
                    <a href="#" class="btn w-100">Choose plan</a>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-6 col-lg-3">
              <div class="card card-md">
                <div class="card-body text-center">
                  <div class="text-uppercase text-secondary font-weight-medium">
                    Unlimited
                  </div>
                  <!-- <div class="display-5 fw-bold my-3">$139</div> -->
                  <ul class="list-unstyled lh-lg">
                    <li><strong>Unlimited</strong> Users</li>
                    <li>
                      <!-- Download SVG icon from http://tabler-icons.io/i/check -->
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="icon me-1 text-success"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M5 12l5 5l10 -10" />
                      </svg>
                      Sharing Tools
                    </li>
                    <li>
                      <!-- Download SVG icon from http://tabler-icons.io/i/check -->
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="icon me-1 text-success"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M5 12l5 5l10 -10" />
                      </svg>
                      Design Tools
                    </li>
                    <li>
                      <!-- Download SVG icon from http://tabler-icons.io/i/check -->
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="icon me-1 text-success"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M5 12l5 5l10 -10" />
                      </svg>
                      Private Messages
                    </li>
                    <li>
                      <!-- Download SVG icon from http://tabler-icons.io/i/check -->
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="icon me-1 text-success"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M5 12l5 5l10 -10" />
                      </svg>
                      Twitter API
                    </li>
                  </ul>
                  <div class="text-center mt-4">
                    <a href="#" class="btn w-100">Choose plan</a>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-12">
              <div class="card card-md">
                <div class="container my-5">
                  <canvas id="mixedChart" width="300" height="150"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <script>
        //  we have to wait for the DOM to load
        document.addEventListener("DOMContentLoaded", function () {
          // Get the context of the canvas element we want to select
          const ctx = document.getElementById("mixedChart").getContext("2d");

          // Define the labels (e.g., months)
          const labels = [
            "January",
            "February",
            "March",
            "April",
            "May",
            "June",
            "July",
          ];

          // Define the data
          const data = {
            labels: labels,
            datasets: [
              // First Bar Dataset (e.g., Sales for Product A)
              {
                type: "bar",
                label: "Product A Sales",
                data: [65, 59, 80, 81, 56, 55, 40],
                backgroundColor: "rgba(54, 162, 235, 0.6)",
                borderColor: "rgba(54, 162, 235, 1)",
                borderWidth: 1,
                yAxisID: "y",
              },
              // Second Bar Dataset (e.g., Sales for Product B)
              {
                type: "bar",
                label: "Product B Sales",
                data: [35, 49, 60, 71, 46, 45, 30],
                backgroundColor: "rgba(255, 99, 132, 0.6)",
                borderColor: "rgba(255, 99, 132, 1)",
                borderWidth: 1,
                yAxisID: "y",
              },
              // First Line Dataset (e.g., Price for Product A)
              {
                type: "line",
                label: "Product A Price",
                data: [20, 22, 19, 23, 21, 24, 25],
                borderColor: "rgba(75, 192, 192, 1)",
                backgroundColor: "rgba(75, 192, 192, 0.2)",
                borderWidth: 2,
                fill: false,
                yAxisID: "y1",
              },
              // Second Line Dataset (e.g., Price for Product B)
              {
                type: "line",
                label: "Product B Price",
                data: [18, 19, 17, 20, 18, 21, 22],
                borderColor: "rgba(153, 102, 255, 1)",
                backgroundColor: "rgba(153, 102, 255, 0.2)",
                borderWidth: 2,
                fill: false,
                yAxisID: "y1",
              },
            ],
          };

          // Define the chart configuration
          const config = {
            data: data,
            options: {
              responsive: true,
              interaction: {
                mode: "index",
                intersect: false,
              },
              stacked: false,
              plugins: {
                title: {
                  display: true,
                  text: "Sales and Price Overview",
                  font: {
                    size: 18,
                    textAlign: "flex-start",
                  },
                },
                tooltip: {
                  enabled: true,
                  mode: "index",
                  intersect: false,
                },
                legend: {
                  position: "top",
                },
              },
              scales: {
                // Primary y-axis for Sales (Bar Charts)
                y: {
                  type: "linear",
                  display: true,
                  position: "left",
                  title: {
                    display: true,
                    text: "Sales (Units)",
                    font: {
                      size: 14,
                    },
                    align: "start", // align the title to the left
                  },
                  ticks: {
                    beginAtZero: true,
                  },
                },
                // Secondary y-axis for Prices (Line Charts)
                y1: {
                  type: "linear",
                  display: true,
                  position: "right",
                  grid: {
                    drawOnChartArea: false, // Only want the grid lines for one axis
                  },
                  title: {
                    display: true,
                    text: "Price ($)",
                    font: {
                      size: 14,
                    },
                  },
                  ticks: {
                    beginAtZero: false,
                  },
                },
              },
            },
          };

          //   console.log("Options fetched successfully:", data);
          //        var $optionSelect = $("#optionSelect");
          //        $optionSelect.empty();
          //        if (data.length > 0) {
          //          $optionSelect.append(
          //            '<option value="">Select an option</option>'
          //          );
          //          $.each(data, function (index, option) {
          //            // Combine optCd and optDtlsCd as the value
          //            var value = option.optCd + "|" + option.optDtlsNm + "|" + option.optDtlsDesc;
          //            $optionSelect.append(
          //              '<option value="' +
          //                value +
          //                '">' +
          //                option.optDtlsDesc +
          //                "</option>"
          //            );
          //          });
          //        } else {
          //          $optionSelect.append(
          //            '<option value="">No options available</option>'
          //          );
          //        }
          //      },
          //      error: function (xhr, status, error) {
          //        console.error("Error fetching options:", status, error);
          //        $("#optionSelect").html(
          //          '<option value="">Error loading options</option>'
          //        );
          //      },

          // we fetch the data from this endpoint
          // ADMSRV001M0SelectAllOptions
          $.ajax({
            type: "GET",
            url: "/ADMSRV001M0SelectAllOptions",
            async: true,
            crossDomain: true,
            dataType: "json",
            processData: false,
            contentType: false,
            headers: {
              Accept: "application/json",
            },
          })
            .done(function (data) {
              let $optionSelect = $("#optionSelect");
              $optionSelect.empty();
              if (data.length > 0) {
                $.each(data, function (index, option) {
                  // we combine the optCd and optDtlCd as the value for better veiw
                  let value =
                    option.optCd +
                    "|" +
                    option.optDtlsNm +
                    " |" +
                    option.optDtlsDesc;
                  $optionSelect.append(
                    '<option value="' +
                      value +
                      ">" +
                      option.optDtlsDesc +
                      "</option>"
                  );
                });
              } else {
                $optionSelect.append(
                  '<option value="">No options available</option>'
                );
              }
            })
            .fail(function (xhr, status, error) {
              alert("An error occured  while fetching the options");
              console.error("Error fetching options:", status, error);
              $("#optionSelect").html(
                '<option value="">Error loading options</option>'
              );
            });
          // Create and render the chart
          const mixedChart = new Chart(ctx, config);
        });
      </script>
    </div>
    <script src="js/utils.js"></script>
  </th:block>
</html>
